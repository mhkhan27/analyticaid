% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/survey_analysis.R
\name{survey_collapse_categorical_long}
\alias{survey_collapse_categorical_long}
\title{Collapse categorical data into tidy long format}
\usage{
survey_collapse_categorical_long(
  df,
  x,
  reporting_col = c("both", "weighted", "unweighted"),
  disag = NULL,
  na_val = NA_character_
)
}
\arguments{
\item{df}{A \code{tbl_svy} object created with \code{srvyr::as_survey()} (or compatible).}

\item{x}{Character scalar. The name of the variable to collapse.
Can be logical (treated as TRUE/FALSE) or numeric (treated as continuous).}

\item{reporting_col}{One of "weighted", "both", or "unweighted".}

\item{disag}{Optional character vector of column names to disaggregate by
(analogous to \code{dplyr::group_by()} before collapsing).}

\item{na_val}{Replacement value for \code{NA}s before aggregation.
If \code{NA_real_} (default), rows with missing \code{x} are removed.
If a number is provided, missing \code{x} are replaced with that value.}
}
\value{
A long-format data frame with proportions and counts
}
\description{
Aggregates categorical survey data using \code{\link[srvyr:survey_mean]{srvyr::survey_mean()}}.
}
